#ifndef C23META_FP32_EXP
#define C23META_FP32_EXP

#define FP32_EXP(X) CAT(_FP32_EXP_CHECK_, FP32_CLASSIFY(X))(X)

#define _FP32_EXP_CHECK_NAN(X) FP32_NAN
#define _FP32_EXP_CHECK_INFINITY(X) CAT(_FP32_EXP_CHECK_INFINITY_, FP32_SIGN_BIT(X)) 
#define _FP32_EXP_CHECK_ZERO(X) FP32_1
#define _FP32_EXP_CHECK_OTHER(X) FP32_EXP_UNCHECKED(X)

#define _FP32_EXP_CHECK_INFINITY_0 FP32_INF
#define _FP32_EXP_CHECK_INFINITY_1 FP32_0

#define FP32_EXP_UNCHECKED(X)\
  FP32_MUL_UNCHECKED(\
    FP32_POW_I_UNCHECKED(FP32_EULER, FP32_TO_U32(X)),\
    _FP32_EXP(FP32_FRACT_UNCHECKED(X))\
  )

#define _FP32_EXP(X)\
  FP32_ADD_UNCHECKED(\
    FP32_1,\
    FP32_ADD_UNCHECKED(\
      X,\
      FP32_ADD_UNCHECKED(\
        FP32_DIV_UNCHECKED(FP32_POW_I_UNCHECKED(X,U32_2), FP32_2),\
        FP32_ADD_UNCHECKED(\
          FP32_DIV_UNCHECKED(FP32_POW_I_UNCHECKED(X,U32_3), FP32_6),\
          FP32_ADD_UNCHECKED(\
            FP32_DIV_UNCHECKED(FP32_POW_I_UNCHECKED(X,U32_4), FP32_24),\
            FP32_ADD_UNCHECKED(\
              FP32_DIV_UNCHECKED(FP32_POW_I_UNCHECKED(X,U32_5), FP32_120),\
              FP32_ADD_UNCHECKED(\
                 FP32_DIV_UNCHECKED(FP32_POW_I_UNCHECKED(X,U32_6), FP32_720),\
                 FP32_DIV_UNCHECKED(FP32_POW_I_UNCHECKED(X,U32_5), FP32_5040))))))))


#define FP32_EULER (0,0,1,0,1,0,1,0,0,0,0,1,1,1,1,1,1,0,1,1,0,1,0,0,0,0,0,0,0,0,1,0)

#endif
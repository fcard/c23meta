#ifndef C23META_U32H_BITS_BITS
#define C23META_U32H_BITS_BITS

#include "and_bits.h"
#include "leading_zeroes.h"
#include "trailing_zeroes.h"

#define U32H_BITS(X) _U32H_BITS X
#define _U32H_BITS(A0,A1,A2,A3,A4,A5,A6,A7)\
  (_U32H_BITS1(A0),_U32H_BITS1(A1),_U32H_BITS1(A2),_U32H_BITS1(A3),_U32H_BITS1(A4),_U32H_BITS1(A5),_U32H_BITS1(A6),_U32H_BITS1(A7))
#define _U32H_BITS1(HEX) _U32H_BITS1_X ## HEX
#define _U32H_BITS1_X0 0,0,0,0
#define _U32H_BITS1_X1 1,0,0,0
#define _U32H_BITS1_X2 0,1,0,0
#define _U32H_BITS1_X3 1,1,0,0
#define _U32H_BITS1_X4 0,0,1,0
#define _U32H_BITS1_X5 1,0,1,0
#define _U32H_BITS1_X6 0,1,1,0
#define _U32H_BITS1_X7 1,1,1,0
#define _U32H_BITS1_X8 0,0,0,1
#define _U32H_BITS1_X9 1,0,0,1
#define _U32H_BITS1_Xa 0,1,0,1
#define _U32H_BITS1_Xb 1,1,0,1
#define _U32H_BITS1_Xc 0,0,1,1
#define _U32H_BITS1_Xd 1,0,1,1
#define _U32H_BITS1_Xe 0,1,1,1
#define _U32H_BITS1_Xf 1,1,1,1

#define U32H_FROM_BITS(X) U32H_FROM_BITS_EVAL(_U32H_FROM_BITS X)
#define _U32H_FROM_BITS(A0,A1,A2,A3,A4,A5,A6,A7,\
                        A8,A9,A10,A11,A12,A13,A14,A15,\
                        A16,A17,A18,A19,A20,A21,A22,A23,\
                        A24,A25,A26,A27,A28,A29,A30,A31)\
  (_U32H_FROM_BITS1(A0,A1,A2,A3),_U32H_FROM_BITS1(A4,A5,A6,A7),\
   _U32H_FROM_BITS1(A8,A9,A10,A11),_U32H_FROM_BITS1(A12,A13,A14,A15),\
   _U32H_FROM_BITS1(A16,A17,A18,A19),_U32H_FROM_BITS1(A20,A21,A22,A23),\
   _U32H_FROM_BITS1(A24,A25,A26,A27),_U32H_FROM_BITS1(A28,A29,A30,A31))
#define U32H_FROM_BITS_EVAL(X) X

#define _U32H_FROM_BITS1(A0,A1,A2,A3) _U32H_FROM_BITS1_X ## A0 ## A1 ## A2 ## A3
#define _U32H_FROM_BITS1_X0000 0
#define _U32H_FROM_BITS1_X1000 1
#define _U32H_FROM_BITS1_X0100 2
#define _U32H_FROM_BITS1_X1100 3
#define _U32H_FROM_BITS1_X0010 4
#define _U32H_FROM_BITS1_X1010 5
#define _U32H_FROM_BITS1_X0110 6
#define _U32H_FROM_BITS1_X1110 7
#define _U32H_FROM_BITS1_X0001 8
#define _U32H_FROM_BITS1_X1001 9
#define _U32H_FROM_BITS1_X0101 a
#define _U32H_FROM_BITS1_X1101 b
#define _U32H_FROM_BITS1_X0011 c
#define _U32H_FROM_BITS1_X1011 d
#define _U32H_FROM_BITS1_X0111 e
#define _U32H_FROM_BITS1_X1111 f


#define U32H_BIT(X,N) U32_BIT(U32H_BITS(X),N)

#endif